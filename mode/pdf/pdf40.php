<?PHP
$devType['dev1']['dev2'] = "あなたは自己実現を追求しつつ、家族との時間を大切にすることも重視しています。新しいキャリアを考える際には、柔軟な働き方や在宅勤務の可能性を探ること、または仕事と家庭生活のバランスを取るためのサポート体制が整っている職場を選ぶことが重要です。自分の価値観に合ったキャリアパスを選択することで、仕事も家庭生活も充実させることができるでしょう。";
$devType['dev1']['dev3'] = "自己実現と同時に働き方の自由と柔軟性を重視しています。新しいキャリアを探す際は、自分の情熱に合った仕事を見つけることが重要ですが、同時にフレキシブルな働き方が可能かどうかも考慮する必要があります。リモートワークやフレックスタイム、プロジェクトベースの契約など、自分のライフスタイルに合わせて仕事を選べる環境を探すことをお勧めします。自己管理能力を高め、効率的に働けるよう心がけましょう。";
$devType['dev1']['dev4'] = "自己実現を追求しつつ経済的安定も重視しています。新しいキャリアを探す際は、自分のスキルや情熱を生かせる仕事を選びながらも、将来的な経済的な安定や成長の機会があるかどうかを慎重に評価することが重要です。高い専門性を持つ分野や、安定した収入が見込める業界への進出を考えると良いでしょう。自己成長と安定を両立させるためには、長期的な視野でキャリアプランを立てることが鍵となります。";
$devType['dev1']['dev5'] = "自己実現を追求し、多様な経験とスキルの獲得にも熱心です。新しいキャリアを考える際には、挑戦的なプロジェクトや異文化での勤務機会など、自分を成長させることができる環境を選ぶことが重要です。ただし、常に学び続ける意欲を持ちつつも、過度に多くのことに手を出し過ぎないよう、自分のキャリア目標に合致したスキル獲得に焦点を当てることがポイントです。";
$devType['dev2']['dev1'] = "家族との時間を大切にしながらも、自己実現のためのキャリア成長にも熱心です。新しいキャリアを探す際は、柔軟な勤務条件を提供する企業や、個人の成長を支援する環境を選ぶことが重要です。また、家族と過ごす時間を確保するために、効率的な仕事の進め方や時間管理のスキルを磨くことがポイントになります。家庭と仕事の両立を目指し、自分自身の成長と家族との充実した時間を大切にするバランスを見つけましょう。";
$devType['dev2']['dev3'] = "あなたは家族との時間を最優先にしつつ、仕事においても自由と柔軟性を大切にしています。新しいキャリアを考える上で、リモートワークやフレキシブルな勤務時間が可能な職場を選ぶことが重要です。このような働き方を選ぶことで、家庭生活の質を落とさずに仕事の効率も保つことができます。家族との時間を確保しながら自分のキャリアも大切にするバランスを見つけることがポイントです。";
$devType['dev2']['dev4'] = "家族との時間を大切にしつつ、経済的安定も求めています。新しいキャリアを考える際、家庭との時間を確保しながらも安定した収入が得られる職を選ぶことが重要です。在宅勤務やフレックスタイム制度が整っている職場、または長期的なキャリア成長が見込める安定した業界への転職を考慮すると良いでしょう。家族を支えるための経済的基盤を確立しつつ、大切な人との時間もしっかりと取るバランスを見つけましょう。";
$devType['dev2']['dev5'] = "あなたは家族との時間を最も大切にしながらも、新しいスキルや経験を積極的に求めています。新しいキャリアを探す際は、柔軟な勤務体系やリモートワークが可能で、継続的な学習や個人の成長を支援する環境を選ぶことが重要です。家庭生活とのバランスを保ちつつ、専門的なスキルや多岐にわたる知識を拡充する機会を見つけることが、あなたのキャリアと個人生活の充実につながります。";
$devType['dev3']['dev1'] = "自由と柔軟性を重視し、それを通じて自己実現を目指しています。新しいキャリアを考える際には、自分のスケジュールを自由に管理できる職種や、創造性を発揮できる仕事を選ぶことが大切です。しかし、自由な働き方を求める一方で、目標達成のための自己管理能力も必要になります。自分の情熘を追い求める仕事を見つけつつ、時間管理や目標設定にも注意を払いましょう。";
$devType['dev3']['dev2'] = "働き方の自由と柔軟性を重視し、それを通じて家族との時間を大切にしたいと考えています。新しいキャリアを探す際は、リモートワークやフレキシブルな勤務時間を提供する職場を選ぶことが重要です。家族と過ごす時間を増やしながらキャリアを継続するために、仕事と私生活のバランスを取る能力を高め、効率的なタイムマネジメントを心掛けましょう。";
$devType['dev3']['dev4'] = "働き方における自由と柔軟性を重視しつつ、経済的安定も同時に求めています。新しいキャリアを探す際は、リモートワークやフリーランスといった柔軟な働き方が可能で、かつ安定した収入が見込める仕事を選ぶことが大切です。ただし、フリーランスなどの場合は、収入の不安定さに対処するための計画も必要になるでしょう。自分のライフスタイルに合わせた働き方を見つけつつ、経済的な安心感を確保するバランスを考慮することが重要です。";
$devType['dev3']['dev5'] = "働き方における自由と柔軟性を最も重視し、同時に新しいスキルや多様な経験を積極的に追求しています。新しいキャリアを検討する際、リモートワークやフレキシブルな働き方が可能で、同時に学習や成長の機会が豊富にある環境を選ぶことが大切です。しかし、新しい技術や知識を学ぶ意欲を持続させるためには、自己管理能力や時間管理が重要になります。自由な働き方を追求する中で、絶えずスキルアップを目指すバランスを見つけましょう。";
$devType['dev4']['dev1'] = "経済的安定を最優先にしながらも、自己実現の追求を重要視しています。新しいキャリアを考える上で、安定した収入を確保しつつ、自分の情熱や能力を生かせる職場を選ぶことが大切です。経済的な安心感を基盤に、自分自身の成長や目標達成に向けた機会を探求することが、あなたにとっての鍵となります。バランスを取りながら、自分の価値観に合致するキャリアパスを選択しましょう。";
$devType['dev4']['dev2'] = "経済的安定を確保しつつ、家族との時間も大切にすることを重視しています。新しいキャリアを考える上で、収入の安定性と家族との時間を充実させることができるバランスの取れた職場を選ぶことが大切です。仕事選びでは、フレキシブルな勤務時間やリモートワークのオプションがあるかどうかを確認し、家庭生活と仕事の両立を目指しましょう。";
$devType['dev4']['dev3'] = "経済的安定を求めつつ、自由と柔軟性のある働き方を重視しています。新しいキャリアを考える上で、収入の安定性を保証しつつも、時間や場所に縛られない仕事を選ぶことが大切です。リモートワークやフリーランスとしてのキャリアなど、自由な働き方を実現できる職種を探しつつ、安定した収入源を確保するための計画も立てましょう。";
$devType['dev4']['dev5'] = "経済的安定を確保しつつ、様々な経験とスキルを積極的に獲得することを重視しています。新しいキャリアを検討する際は、安定した収入を提供しながらも、自己成長の機会が豊富にある職場を選ぶことが大切です。しかし、多様な経験を求めるあまり、経済的安定を損なわないよう注意が必要です。バランスの取れたキャリアパスを選択し、長期的な視野で自己成長と安定を両立させることがポイントとなります。";
$devType['dev5']['dev1'] = "多様な経験とスキルの獲得を通じて自己実現を目指しています。新しいキャリアを模索する際には、学びの多い環境や挑戦的なプロジェクトに積極的に関わることで、自分の能力を最大限に引き出す機会を探すことが重要です。ただし、自己実現の追求中にもバランスを保ち、過度なストレスや燃え尽きを避けるために、自分の健康や心の余裕も大切にすることを忘れないでください。";
$devType['dev5']['dev2'] = "新しいスキルや経験を積極的に追求しつつ、家族との時間も大切にしています。新しいキャリアを考える上で、柔軟な働き方やリモートワークが可能で、プライベートな時間を確保しやすい職場を選ぶことが重要です。また、継続的な学習の機会を提供する環境を探しつつ、家族との関係を維持し充実させるための時間管理にも配慮しましょう。";
$devType['dev5']['dev3'] = "新しいスキルや多様な経験を追求することで自己成長を目指し、同時に自由で柔軟な働き方を求めています。新しいキャリアを考える際は、リモートワークやフリーランスの機会を積極的に探し、学び続ける環境を優先することが重要です。しかし、自由な働き方を追求する中で、自己管理能力や目標設定が特に重要になるため、効率的な時間管理や目標達成のための戦略を練ることを忘れないでください。";
$devType['dev5']['dev4'] = "多様なスキルや経験を積極的に獲得することで自己成長を図りつつ、経済的安定も重視しています。新しいキャリアを探す際には、安定した収入を提供し、かつ個人の成長と学習の機会が豊富な職場を選ぶことが重要です。収入の安定と自己成長を同時に追求することで、充実した職業生活を築くためには、長期的な視点でキャリアプランを立て、柔軟性と安定のバランスを見つけることがポイントになります。";

$devTypeTitle['dev1']['dev2'] = "キャリアと家庭調和型";
$devTypeTitle['dev1']['dev3'] = "柔軟な自己達成者";
$devTypeTitle['dev1']['dev4'] = "安定志向の達成者";
$devTypeTitle['dev1']['dev5'] = "成長探求型";
$devTypeTitle['dev2']['dev1'] = "家族愛と自己成長型";
$devTypeTitle['dev2']['dev3'] = "家庭中心の柔軟性追求型";
$devTypeTitle['dev2']['dev4'] = "家庭安定志向型";
$devTypeTitle['dev2']['dev5'] = "家庭優先の探究者";
$devTypeTitle['dev3']['dev1'] = "柔軟な自己実現探求者";
$devTypeTitle['dev3']['dev2'] = "柔軟性と家族中心型";
$devTypeTitle['dev3']['dev4'] = "柔軟性重視の安定志向型";
$devTypeTitle['dev3']['dev5'] = "柔軟探究心型";
$devTypeTitle['dev4']['dev1'] = "安定志向の実現型";
$devTypeTitle['dev4']['dev2'] = "家庭安定重視型";
$devTypeTitle['dev4']['dev3'] = "安定追求のフレキシブルワーカー型";
$devTypeTitle['dev4']['dev5'] = "安定成長志向型";
$devTypeTitle['dev5']['dev1'] = "探究と実現志向型";
$devTypeTitle['dev5']['dev2'] = "成長重視の家庭愛型";
$devTypeTitle['dev5']['dev3'] = "探求自由型";
$devTypeTitle['dev5']['dev4'] = "安定探究型";


$devTitle['dev1'] = "自己実現";
$devTitle['dev2'] = "家族との時間";
$devTitle['dev3'] = "自由と柔軟性";
$devTitle['dev4'] = "経済的安定";
$devTitle['dev5'] = "多様な経験と\nスキルの獲得";
$devText['dev1'] = "キャリアを通じて個人的な成長と目標達成を大切にしています。仕事で新しいスキルを学んだり、挑戦的なプロジェクトに取り組むことで、自分の可能性を広げようとしているはずです。例えば、新しい部門でリーダーを務めることで、チームを成功に導く経験を通じて、大きな達成感を感じるでしょう。";
$devText['dev2'] = "家族との時間を大切にするあなたは、仕事とプライベートのバランスを取りながら、家族と質の高い時間を過ごすことに重点を置いています。例えば、フレックスタイム制度を利用して子供の学校行事に参加するなど、仕事のスケジュールを調整し、家族との絆を深めることに努めていることでしょう。";
$devText['dev3'] = "自由と柔軟性を重視するあなたは、働き方において自分のライフスタイルに合わせた選択をしています。リモートワークやフリーランスとして活動することで、仕事とプライベートのバランスを自分の条件で調整し、好きな場所で仕事をする自由を享受しているはずです。";
$devText['dev4'] = "経済的安定を求めるあなたは、安定した収入と将来の安心を確保することに価値を置いています。たとえば、昇進を目指して追加の資格を取得したり、副業を始めることで収入源を増やし、経済的な安定を実現していることでしょう。";
$devText['dev5'] = "多様な経験とスキルの獲得を重視するあなたは、常に新しいことに挑戦し、学び続けることでキャリアの可能性を広げています。海外での勤務経験を積むことや、異業種への転職を通じて、幅広い知識とスキルセットを身につけ、自分の市場価値を高めているでしょう。";

$pdf->setSourceFile('./pdfTemplates/temp_pdf40.pdf');
$pdf->useTemplate($pdf->importPage(1));

// $logo = "./img/pdflogo/pl_" . $user[0]['login_id'] . ".jpg";


// $pdf->SetXY(24, 30);
// if (file_exists($logo)) {
// 	$pdf->Image($logo, 10, 5, 50, 18);
// } else {
// 	$pdf->Image("./images/welcome.jpg", 10, 5, 50, 25);
// }

// $pdf->SetFontSize(9);
// $pdf->SetXY(20, 23);
// $pdf->Write(0, $testdata['cusname']);

$pdf->SetTextColor(0, 0, 0);

$pdf->SetFontSize(8);
$pdf->SetXY(31, 28.5);
$temp = explode(" ", $testdata['exam_dates']);
$temp = explode("-", $temp[0]);
$exam = $temp[0] . "/" . $temp[1] . "/" . $temp[2];
$pdf->Write(0, $exam);

// $pdf->SetXY(65.5, 28.5);
// $pdf->Write(0, $testdata['exam_id']);

$pdf->SetXY(162, 28.5);
$pdf->Write(0, $testdata['name']);

$dev1 = round($testdata["type"]['dev1'], 1);
$dev2 = round($testdata["type"]['dev2'], 1);
$dev3 = round($testdata["type"]['dev3'], 1);
$dev4 = round($testdata["type"]['dev4'], 1);
$dev5 = round($testdata["type"]['dev5'], 1);

$pdf->SetXY(10.2, 53.5);
$pdf->Cell(37, 0, $dev1 . '%', "0", "0", "C");
$pdf->SetXY(48.2, 53.5);
$pdf->Cell(37, 0, $dev2 . '%', "0", "0", "C");
$pdf->SetXY(85.6, 53.5);
$pdf->Cell(37, 0, $dev3 . '%', "0", "0", "C");
$pdf->SetXY(123.0, 53.5);
$pdf->Cell(37, 0, $dev4 . '%', "0", "0", "C");
$pdf->SetXY(160.3, 53.5);
$pdf->Cell(37, 0, $dev5 . '%', "0", "0", "C");


$graph = new RadarGraph(400, 400, "auto");
$graph->img->SetAntiAliasing();
$graph->SetFrame(false);
$graph->SetColor("white");

$graph->SetCenter(0.5, 0.5);
$graph->SetPos(0.51, 0.42);
// グラフの最大数設定　lin, minpos, maxpos
$graph->SetScale('lin', 0, 60);
// グラフのメモリ (刻み、?) 
$graph->yscale->ticks->Set(10, 5);

// 軸の日本語化と色設定
$graph->axis->SetFont(FF_GOTHIC);
$graph->axis->title->SetFont(FF_GOTHIC);
$graph->axis->SetColor("#fff"); // 軸の色

// ラインの設定
$graph->grid->SetLineStyle("solid");
$graph->grid->SetColor("black");
$graph->grid->Show();
$graph->HideTickMarks();

// Setup graph titles
// $graph->title->Set("Quality result");
// $graph->title->SetFont(FF_FONT1, FS_BOLD);
//$graph->SetTitles($gDateLocale->GetShortMonth());
$graph->SetTitles(['', '', '', '', '']);

// Create the first radar plot
$plot = new RadarPlot(array($dev1, $dev5, $dev4, $dev3, $dev2));
//$plot->SetLegend("Goal");
$plot->SetColor("blue", "lightred");
$plot->SetFill(false);
$plot->SetLineWeight(6);
$ave = ($dev1 + $dev5 + $dev4 + $dev3 + $dev2) / 5;
// Create the second radar plot
$plot2 = new RadarPlot(array($ave, $ave, $ave, $ave, $ave));
//$plot2->SetLegend("Actual");
$plot2->SetLineWeight(6);
$plot2->SetColor("red");
$plot2->SetFill(false);

// Add the plots to the graph
$graph->Add($plot2);
$graph->Add($plot);





$file1 = "./images/pdf/pdf40/" . $id . ".png";
// And output the graph
$graph->Stroke($file1);

$pdf->Image($file1, 24, 60, 160);


$line_style = array('width' => 0.1, 'color' => array(0, 0, 0));
$body_style = array(
	'T' => $line_style,
	'R' => $line_style,
	'B' => $line_style,
	'L' => $line_style
);
$pdf->Rect(10, 59, 188, 130, 'D', $body_style);

$pdf->SetFontSize(11);
$pdf->SetXY(97.6, 63.5);
$pdf->MultiCell(148, 0, '自己表現', "0", "L");
$pdf->SetXY(162.6, 107.5);
$pdf->MultiCell(148, 0, '家族との時間', "0", "L");
$pdf->SetXY(140.6, 175.5);
$pdf->MultiCell(148, 0, '自由と柔軟性', "0", "L");
$pdf->SetXY(51.1, 175.5);
$pdf->MultiCell(148, 0, '経済的安定', "0", "L");
$pdf->SetXY(24.6, 107.5);
$pdf->MultiCell(148, 0, "多様な経験と\nスキルの獲得", "0", "L");

$pdf->SetFontSize(9);
$pdf->Text(99.1, 70.5, "60%");
$pdf->Text(99.1, 80.0, "50%");
$pdf->Text(99.1, 90.2, "40%");
$pdf->Text(99.1, 99.2, "30%");
$pdf->Text(99.1, 108.5, "20%");
$pdf->Text(99.1, 118.0, "10%");

// スパイダーの線を引く
$pdf->SetLineWidth(0.5);
$pdf->Line(105.9, 127, 105.9, 71.6);
$pdf->Line(105.9, 127, 159, 109.7);
$pdf->Line(105.9, 127, 138.4, 172.7);
$pdf->Line(105.9, 127, 72.4, 172.7);
$pdf->Line(105.9, 127, 52.3, 110.0);


$pdf->SetLineWidth(0.1);

$pdf->SetXY(12.5, 197.3);
$pdf->Cell(15, 0, "あなたのタイプ", "0", "0", "C");

$fill_color = [198, 224, 180];
$pdf->Rect(10, 202.4, 38, 24, 'DF', $body_style, $fill_color);
$pdf->Rect(47.9, 202.4, 150, 24, 'D', $body_style);

$ranking['dev1'] = $dev1;
$ranking['dev2'] = $dev2;
$ranking['dev3'] = $dev3;
$ranking['dev4'] = $dev4;
$ranking['dev5'] = $dev5;
arsort($ranking);

$i = 1;
$firstkey = $secondkey = "";
foreach ($ranking as $key => $value) {
	if ($i == 1) $firstkey = $key;
	if ($i == 2) $secondkey = $key;
	$i++;
}


// あなたのタイプ
$typeTitle = $devTypeTitle[$firstkey][$secondkey];
$pdf->SetXY(11.8, 212.9);
$pdf->MultiCell(148, 0, $typeTitle, "0", "L");

$typeText = $devType[$firstkey][$secondkey];
$pdf->SetXY(48.8, 203.9);
$pdf->MultiCell(148, 0, $typeText, "0", "L");


// あなたの強み
$typeTitle = $devTitle[$firstkey];
$pdf->SetXY(11.8, 240.3);
$pdf->MultiCell(148, 0, $typeTitle, "0", "L");

$typeText = $devText[$firstkey];
$pdf->SetXY(48.8, 232.5);
$pdf->MultiCell(148, 0, $typeText, "0", "L");

$typeTitle = $devTitle[$secondkey];
$pdf->SetXY(11.8, 265.3);
$pdf->MultiCell(148, 0, $typeTitle, "0", "L");

$typeText = $devText[$secondkey];
$pdf->SetXY(48.8, 256.5);
$pdf->MultiCell(148, 0, $typeText, "0", "L");
